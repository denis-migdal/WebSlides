{"version":3,"file":"skeleton/index.js","mappings":"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","sources":["webpack://[PROJECT_NAME]/webpack/runtime/async module","webpack://[PROJECT_NAME]/webpack/runtime/import chunk loading","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/parsers/html.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/parsers/index.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/index.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/DOM/whenPageLoaded.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/parsers/style.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/tests/assertElement.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/network/require.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/define/whenDefined.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/define/index.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/define/isDefined.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/define/autoload.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/parsers/isTemplateString.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/DOM/isPageLoaded.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/network/fetchText.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/execute/js.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/execute/bry.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/execute/index.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/define/define.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/signals/SignalEvent.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/signals/ROSignal.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/signals/IndirectSignal.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/signals/Signal.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/LISSClasses/LISSBase.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/LISSClasses/LISSUpdate.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/LISSClasses/LISSValue.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/DOM/getPropertyInitialValue.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/LISS.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/parsers/template.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/encode.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/ContentGenerators/AutoContentGenerator.ts","webpack://[PROJECT_NAME]/./src/lib.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/network/ressource.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/DOM/isDOMContentLoaded.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/utils/DOM/whenDOMContentLoaded.ts","webpack://[PROJECT_NAME]/./libs/LISS/V3/src/ContentGenerators/ContentGenerator.ts","webpack://[PROJECT_NAME]/webpack/bootstrap","webpack://[PROJECT_NAME]/webpack/runtime/define property getters","webpack://[PROJECT_NAME]/webpack/runtime/hasOwnProperty shorthand","webpack://[PROJECT_NAME]/webpack/runtime/publicPath","webpack://[PROJECT_NAME]/webpack/runtime/export webpack runtime","webpack://[PROJECT_NAME]/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t74: 0\n};\n\nvar installChunk = (data) => {\n\tvar {__webpack_ids__, __webpack_modules__, __webpack_runtime__} = data;\n\t// add \"modules\" to the modules object,\n\t// then flag all \"ids\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in __webpack_modules__) {\n\t\tif(__webpack_require__.o(__webpack_modules__, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = __webpack_modules__[moduleId];\n\t\t}\n\t}\n\tif(__webpack_runtime__) __webpack_runtime__(__webpack_require__);\n\tfor(;i < __webpack_ids__.length; i++) {\n\t\tchunkId = __webpack_ids__[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[__webpack_ids__[i]] = 0;\n\t}\n\n}\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n__webpack_require__.C = installChunk;\n\n// no on chunks loaded","import isTemplateString from \"./isTemplateString\";\nimport { Template } from \"./types\";\n\nconst template = document.createElement(\"template\");\nconst df = template.content;\n\nexport default function html<T extends HTMLElement>(...raw: Template<string>): T {\n    \n    let elem: string = raw[0] as any;\n\n    if( isTemplateString(raw) ) {\n        \n        const str = raw[0];\n\n        let string = str[0];\n        for(let i = 1; i < raw.length; ++i) {\n            string += raw[i];\n            string += str[i];\n        }\n\n        elem = string;\n    }\n\n    template.innerHTML = elem;\n\n    if( df.childNodes.length !== 1)\n        throw new Error(\"Error\");\n\n    return df.firstChild as T;\n}","import LISS from \"@LISS/src/LISS\";\n\nimport html     from \"./html\"\nimport template from \"./template\";\nimport style    from \"./style\";\n\ndeclare module \"@LISS/src/LISS\" {\n    interface ILISS {\n        html    : typeof html;\n        template: typeof template;\n        style   : typeof style;\n    }\n}\n\nLISS.style    = style;\nLISS.template = template;\nLISS.html     = html;\n\nexport {style, template, html};","import LISS from \"@LISS/src/LISS\";\n\nimport \"@LISS/src/define\";\nimport \"@LISS/src/define/autoload\";\n\nimport \"@LISS/src/utils/parsers\";\nimport \"@LISS/src/utils/network/require\";\n\nimport \"@LISS/src/utils/tests/assertElement\";\n\ndeclare module \"@LISS/src/LISS\" {\n    interface ILISS {\n        VERSION: string\n    }\n}\n\nLISS.VERSION = \"V3\";\n\nexport default LISS;\n\n// @ts-ignore\nglobalThis.LISS = LISS;","import isPageLoaded from \"./isPageLoaded\";\n\nexport default async function whenDOMContentLoaded() {\n    if( isPageLoaded() )\n        return;\n\n    const {promise, resolve} = Promise.withResolvers<void>()\n\n\tdocument.addEventListener('load', resolve as any, true);\n\n    await promise;\n}","import { Template } from \"./types\";\n\nexport type CSS   = string|CSSStyleSheet|HTMLStyleElement;\n\nexport default function style(...raw: Template<CSS>): CSSStyleSheet {\n\n    let elem = raw[0];\n\n    if( elem instanceof CSSStyleSheet )\n        return elem;\n    if( elem instanceof HTMLStyleElement)\n        return elem.sheet!;\n\n    if( Array.isArray(elem) ) {\n        \n        const str = raw[0] as TemplateStringsArray;\n\n        let string = str[0];\n        for(let i = 1; i < raw.length; ++i) {\n            string += raw[i];\n            string += str[i];\n        }\n\n        elem = string;\n    }\n\n    if( typeof elem !== \"string\") {\n        console.warn(elem);\n        console.trace();\n        throw new Error(\"Should not occurs\");\n    }\n\n    const style = new CSSStyleSheet();\n    style.replaceSync(elem);\n    return style;\n}","import whenDefined from \"@LISS/src/define/whenDefined\";\n\ntype Options = {\n    shadow_html?: string,\n    css        ?: Record<string, Record<string, string>>\n}\n\nfunction waitFrame() {\n    const { promise, resolve} = Promise.withResolvers<void>();\n\n    requestAnimationFrame( () => resolve() );\n\n    return promise;\n}\n\nexport default async function assertElement(tagname: string, opts: Options = {}) {\n    \n    const shadow_html = opts.shadow_html ?? null;\n    const css         = opts.css         ?? {};\n\n\n    await whenDefined(tagname);\n\n    //for(let i = 0; i < 1; ++i)\n    //    await waitFrame();\n\n    const elem = document.querySelector(tagname);\n\n    if( elem === null )\n        throw new Error(\"Component not found\");\n\n    //TODO: await LISS.whenInitialized(elem); ?\n\n    if( elem.tagName.toLowerCase() !== tagname )\n        throw new Error(\n`Wrong tagname.\nExpected: ${tagname}\nGot: ${elem.tagName.toLowerCase()}`);\n\n    if( elem.constructor.name === \"HTMLElement\")\n        throw new Error(`Element not upgraded!`);\n\n    if( shadow_html !== elem.shadowRoot ) {\n        if( shadow_html === null || elem.shadowRoot === null )\n            throw new Error(`ShadowRoot missing or unexpected.`);\n        if( shadow_html !== elem.shadowRoot.innerHTML )\n            throw new Error(\n`HTML content mismatched.\nExpected: ${shadow_html}\nGot: ${elem.shadowRoot.innerHTML}`);\n    }\n\n    for(let selector in css ) {\n        const expected = css[selector];\n\n        let sub_elems: NodeListOf<HTMLElement>|HTMLElement[];\n        if( selector === \"\")\n            sub_elems = [elem as HTMLElement];\n        else\n            sub_elems = (((elem as any).content ?? elem.shadowRoot ?? elem) as ShadowRoot|HTMLElement).querySelectorAll<HTMLElement>(selector);\n    \n        if( sub_elems.length === 0)\n            throw new Error(`Elements \"${selector}\" not found`);\n\n        for( let sub_elem of sub_elems ) {\n\n            // compare style : https://stackoverflow.com/questions/59342928/getcomputedstyle-only-the-changes-from-default\n            //  ^ get all elements, find matching qs, compare\n            // pseudo class  : https://stackoverflow.com/questions/32091848/template-queryselector-using-scope-pseudo-class-works-with-document-but-not\n\n            const css = getComputedStyle(sub_elem)\n            for(let propname in expected) {\n                const val = css.getPropertyValue(propname);\n                if( val !== expected[propname] ) {\n                        throw new Error(\n        `CSS mismatch\n        Expected:${expected}\n        Got: ${css}`);\n                }\n            }\n        }\n    }\n}\n\nimport LISS from \"@LISS/src/LISS\";\n\ndeclare module \"@LISS/src/LISS\" {\n    interface ILISS {\n        assertElement    : typeof assertElement;\n    }\n}\n\nLISS.assertElement = assertElement;\n","import fetchText from \"./fetchText\";\n\n// @ts-ignore\nglobalThis.require = async function(url: string) {\n\n    const stack = new Error().stack!;\n\n    let caller: string;\n    if( stack.startsWith(\"Error\") ) {   // Chrome ?\n        caller = stack.split('\\n')[1+1].slice(7);\n    } else {                            // FF ?\n        caller = stack.split('\\n')[1].slice(1);\n    }\n\n    if( caller.startsWith('blob:') ) {\n\n        caller = caller.slice(caller.lastIndexOf('/') + 1 );\n        caller = caller.slice(0, caller.indexOf(':'));\n\n        url = LISSContext.execute!.url_map[caller] + url;\n        \n        //TODO: rewrite URL...\n    } else {\n        console.warn( caller );\n        throw new Error(\"require from non-blob import, unimplemented\");\n    }\n\n    // TODO: reverify playground\n\n    return await fetchText(url);\n}","type Cstr<T> = new(...args:any[])=> T;\n\nexport const _whenDefinedPromises = new WeakMap<Cstr<HTMLElement>, PromiseWithResolvers<void>>();\n\nexport default async function whenDefined<T extends HTMLElement>(elem: string|Cstr<T>): Promise<Cstr<T>> {\n    \n    if( typeof elem === \"string\")\n        return await customElements.whenDefined(elem) as Cstr<T>;\n\n    if( customElements.getName(elem) !== null)\n        return elem as Cstr<T>;\n\n    let p = _whenDefinedPromises.get(elem);\n    if( p === undefined ){\n        p = Promise.withResolvers<void>();\n        _whenDefinedPromises.set(elem, p);\n    }\n\n    await p.promise;\n    return elem;\n}","import define      from \"./define\";\nimport isDefined   from \"./isDefined\";\nimport whenDefined from \"./whenDefined\";\n\nimport LISS from \"@LISS/src/LISS\";\n\ndeclare module \"@LISS/src/LISS\" {\n    interface ILISS {\n        define      : typeof define;\n        isDefined   : typeof isDefined;\n        whenDefined : typeof whenDefined;\n    }\n}\n\nLISS.define      = define;\nLISS.isDefined   = isDefined;\nLISS.whenDefined = whenDefined;\n\nexport {define, isDefined, whenDefined};","export default function isDefined(elem: string|(new(...args:any[])=>HTMLElement)): boolean {\n    \n    if( typeof elem === \"string\")\n        return customElements.get(elem) !== undefined;\n\n    return customElements.getName(elem) !== null;\n}","import define, { WaitingDefine } from \"@LISS/src/define/define\";\nimport LISS from \"@LISS/src\";\nimport AutoContentGenerator from \"@LISS/src/ContentGenerators/AutoContentGenerator\";\nimport isPageLoaded   from \"@LISS/src/utils/DOM/isPageLoaded\";\nimport whenPageLoaded from \"@LISS/src/utils/DOM/whenPageLoaded\";\nimport fetchText      from \"@LISS/src/utils/network/fetchText\";\nimport execute        from \"@LISS/src/utils/execute\";\n\nconst script =  document.querySelector<HTMLElement>('script:is([liss-auto],[liss-cdir],[liss-sw],[liss-files])');\n\nfunction parseLISSFiles(files: string|null|undefined) {\n    if( ! files )\n        return [\"js\", \"bry\", \"html+css\"]\n    return files.split(\",\");\n}\n\nexport const LISS_MODE    = script?.getAttribute('liss-mode') ?? null;\nexport const LISS_FILES   = parseLISSFiles( script?.getAttribute('liss-files') );\nexport const DEFAULT_CDIR = script?.getAttribute('liss-cdir') ?? null;\n\n// TODO: default ?\nconst SW_PATH             = script?.getAttribute('liss-sw') ?? null;\n\nif(LISS_MODE === \"auto-load\" && DEFAULT_CDIR !== null) {\n    if( ! isPageLoaded() )\n        await whenPageLoaded();\n    autoload(DEFAULT_CDIR);\n}\n\nexport function autoload(cdir: string) {\n\n    const SW: Promise<void> = new Promise( async (resolve) => {\n\n        if( SW_PATH === null || SW_PATH === \"\") {\n            console.info(\"You are using LISS Auto mode without sw.js.\");\n            return resolve();\n        }\n        \n        try {\n            await navigator.serviceWorker.register(SW_PATH, {scope: \"/V3/assets/\"});\n        } catch(e) {\n            console.warn(\"Registration of ServiceWorker failed\");\n            console.error(e);\n            return resolve();\n        }\n\n        if( navigator.serviceWorker.controller )\n            return resolve();\n\n        navigator.serviceWorker.addEventListener('controllerchange', () => {\n            resolve();\n        });\n    });\n\n    if( cdir[cdir.length-1] !== '/')\n        cdir += '/';\n\n    //const brython = script.getAttribute(\"brython\");\n\n    // observe for new injected tags.\n    new MutationObserver( (mutations) => {\n        for(let mutation of mutations)\n            for(let addition of mutation.addedNodes)\n                if( addition.constructor.name === \"HTMLElement\" )\n                // cf https://github.com/WICG/webcomponents/issues/1097#issuecomment-2665092315\n                // if(addition instanceof HTMLUnknownElement)\n                    addTag(addition as HTMLElement)\n\n    }).observe( document, { childList:true, subtree:true });\n\n    for( let elem of document.querySelectorAll<HTMLElement>(\":not(:defined)\") )\n        addTag( elem );\n\n    async function addTag(tag: HTMLElement) {\n\n        await SW; // ensure SW is installed.\n\n        const tagname = tag.tagName.toLowerCase();\n\n        if(  WaitingDefine.has(tagname)\n            // could be defined, but not yet upgraded\n         || customElements.get(tagname) !== undefined)\n            return;\n\n        loadComponent(tagname, {\n            //brython,\n            cdir\n        });\t\t\n    }\n}\n\n/*****/\n\ntype loadComponent_Opts = {\n\tcdir   ?: string|null\n};\n\ntype Cstr<T> = (...args: any[]) => T;\n\n\nasync function tryFile( compo_dir: string,\n                        ext: string,\n                        target:Record<string,string>): Promise<boolean> {\n\n    // special value...\n    if( ext === \"html+css\") {\n        const promises = [\n            fetchText(`${compo_dir}index.html`, true)!,\n            fetchText(`${compo_dir}index.css` , true)!\n        ];\n\n        let result = await Promise.all(promises);\n\n        if( result[0] === undefined)\n            return false;\n\n        target[\"html\"] = result[0];\n        if( result[1] !== undefined)\n            target[\"css\" ] = result[1];\n\n        return true;\n    }\n\n    const result = await fetchText(`${compo_dir}index.${ext}`, true);\n\n    if( result === undefined )\n        return false;\n\n    target[ext] = result;\n\n    return true;\n}\n\nexport async function loadComponent<T extends HTMLElement = HTMLElement>(\n\ttagname: string,\n\t{\n\t\tcdir    = DEFAULT_CDIR,\n\t\t// brython = null\n\t}: loadComponent_Opts = {}\n): Promise<Cstr<T>> {\n\n\tWaitingDefine.add(tagname);\n\n    // @ts-ignore\n    let true_tagdir = globalThis.LISSContext?.override_tags?.[tagname] ?? tagname;     \n\n\tconst compo_dir = `${cdir}${true_tagdir}/`;\n\n    const files: Record<string,string> = {};\n    let found = false;\n    for(let file of LISS_FILES)\n        if( found = await tryFile(compo_dir, file, files) )\n            break;\n\n    if( ! found )\n        throw new Error(`No files found for webcomponent ${tagname}`)\n\n\treturn await defineWebComponent(tagname, files, compo_dir);\n}\n\n//TODO: rename from files ?\nasync function defineWebComponent(tagname: string,\n                                  files: Record<string, any>,\n                                  origin : string,\n                                ) {\n    \n    let klass;\n    if( files[\"js\"]  !== undefined )\n        klass = (await execute<any>(files[\"js\"], \"js\", origin)).default;\n    if( files[\"bry\"] !== undefined )\n        klass = (await execute<any>(files[\"bry\"], \"bry\", origin)).default;\n\n    if( klass === undefined )\n        klass = LISS({\n            content_generator: AutoContentGenerator,\n            ...files\n        });\n\n    define(tagname, klass);\n\n    return klass;\n}","export default function isTemplateString(raw: [unknown, ...unknown[]]): raw is [TemplateStringsArray, ...string[]] {\n    return Array.isArray(raw[0]);\n}","export default function isPageLoaded() {\n    return document.readyState === \"complete\"\n}","// in auto-mode use ServiceWorker to hide 404 error messages.\n// if playground files, use them.\nexport default async function fetchText(uri: string|URL, hide404: boolean = false) {\n\n    const fetchContext = globalThis.LISSContext?.fetch;\n    if( fetchContext !== undefined ) { // for the playground\n        const path = new URL(uri, fetchContext.cwd );\n        const value = fetchContext.files[path.toString()];\n\n        if( value === \"\" )\n            return undefined;\n        if( value !== undefined)\n            return value;\n    }\n\n    const options = hide404\n                        ? {headers:{\n                            \"liss-auto\": \"true\", //TODO: remove\n                            \"hide-404\" : \"true\"\n                        }}\n                        : {};\n\n    const response = await fetch(uri, options);\n    if(response.status !== 200 )\n        return undefined;\n\n    if( hide404 && response.headers.get(\"status\")! === \"404\" )\n        return undefined;\n\n    const answer = await response.text();\n\n    if(answer === \"\")\n        return undefined;\n\n    return answer\n}\n\n\n\ndeclare global {\n\n    interface LISSContext {\n        fetch?: {\n            cwd  : string,\n            files: Record<string, string>\n        }\n    }\n\n    var LISSContext: LISSContext;\n}","export default async function executeJS<T>(code: string, origin?: string): Promise<T> {\n\n    const file = new Blob([code], { type: 'application/javascript' });\n    const url  = URL.createObjectURL(file);\n\n    if( origin !== undefined) {\n        const id = url.slice(url.lastIndexOf('/') + 1 );\n        ((globalThis.LISSContext ??={}).execute ??= {url_map: {}}).url_map[id] = origin;\n    }\n\n    const result = (await import(/* webpackIgnore: true */ url));\n    \n    URL.revokeObjectURL(url);\n\n    return result as unknown as T;\n}\n\n\ndeclare global {\n\n    interface LISSContext {\n        execute?: {\n            url_map: Record<string, string>\n        }\n    }\n\n    var LISSContext: LISSContext;\n    \n}","import executeJS from \"./js\";\n\n// @ts-ignore\nglobalThis.getProp = function(target, name) {\n    return target[name];\n}\n\n// can't use WebPack require() if we want to use it directly...\nconst bry_wrapper = `from browser import self\n\ndef wrapjs(js_klass):\n\n\tclass Wrapper:\n\n\t\t_js_klass = js_klass # TODO: replace ?\n\t\t_js       = None\n\n\t\tdef __new__(cls):\n\t\t\tthis = super().__new__(cls)\n\n\t\t\tif \"brython_wrapper_js\" in self:\n\t\t\t\tthis._js = self.brython_wrapper_js\n\t\t\telse:\n\t\t\t\t# TODO: set it during define...\n\t\t\t\tthis._js = this._js_klass.new() # no args\n\t\t\treturn this\n\n\t\tdef __getattr__(this, name: str):\n\t\t\t#print( name in this._js, dir(this._js) )\n\t\t\treturn self.getProp(this._js, name)\n\t\t\t#return this._js[name]\n\n\t\tdef __setattr__(this, name: str, value):\n\t\t\tif name == \"_js\":\n\t\t\t\tsuper().__setattr__(name, value)\n\t\t\t\treturn\n\t\t\tthis._js[name] = value\n\t\n\treturn Wrapper\n\nself.wrapjs = wrapjs`;\n\nlet wrapper_loaded = false;\n\nexport default async function executeBry<T>(code: string, origin: string): Promise<T> {\n\n    if( ! wrapper_loaded ) {\n        await executeJS(`globalThis.__BRYTHON__.runPythonSource(\\`${bry_wrapper}\\`, \"_\")`);\n        wrapper_loaded = true;\n    }\n\n    // Brython library needs to have been loaded.\n    const jscode = `const $B = globalThis.__BRYTHON__;\n\n$B.runPythonSource(\\`${code}\\`, \"_\");\n\nconst module = $B.imported[\"_\"];\nexport default module.DefaultExport;`;\n\n    return await executeJS(jscode, origin);\n}","import executeBry from \"./bry\";\nimport executeJS from \"./js\";\n\nconst EXEC = {\n    js : executeJS,\n    bry: executeBry\n}\n\nexport default async function execute<T>(code: string, type: \"js\"|\"bry\", origin: string): Promise<T> {\n\n    return await EXEC[type]<T>(code, origin);\n}","import ContentGenerator from \"@LISS/src/ContentGenerators/ContentGenerator\";\nimport { _whenDefinedPromises } from \"./whenDefined\";\n\nexport const WaitingDefine = new Set<string>();\n\nexport default async function define(tagname: string, Klass: new(...args:any[]) => HTMLElement) {\n    \n    if( \"$is_class\" in Klass )\n        Klass = WrapPythonClass(Klass);\n\n    //TODO: type safe\n    if( \"CONTENT_GENERATOR\" in Klass ) {\n        const generator = Klass.CONTENT_GENERATOR as ContentGenerator;\n\n        if( ! generator.isReady ) {\n            WaitingDefine.add(tagname);\n            await generator.whenReady;\n        }\n    }\n\n    WaitingDefine.delete(tagname);\n    customElements.define(tagname, Klass);\n\n    const p = _whenDefinedPromises.get(Klass);\n    if( p !== undefined )\n        p.resolve();\n}\n\n\nfunction WrapPythonClass(Klass: new(...args:any[]) => HTMLElement) {\n\n    const JSKlass = (Klass as any).__bases__.filter( (e: any) => e.__name__ === \"Wrapper\")[0]._js_klass.$js_func as new(...args:any[]) => HTMLElement;\n\n    // @ts-ignore\n    const symbol = __BRYTHON__.PYOBJ;\n\n    // make it a proxy ?\n    return class _Wrapper extends JSKlass {\n        #bry: any;\n\n        // should always be built before end of brython init...\n        constructor(bry: any = null) {\n            super();\n\n            if( bry === null ) {\n                // @ts-ignore\n                globalThis.brython_wrapper_js = this;\n                // @ts-ignore\n                bry = __BRYTHON__.$call(Klass, [0,0,0])();\n                // @ts-ignore\n                globalThis.brython_wrapper_js = null;\n            }\n            this.#bry = bry;\n\n            // @ts-ignore\n            this[symbol] = bry;\n        }\n\n        #call(name: string, ...args: any[]) {\n            // @ts-ignore\n            return __BRYTHON__.$call(__BRYTHON__.$getattr_pep657(this.#bry, name, [0,0,0]), [0,0,0])(...args)\n        }\n\n        /*\n        get host() {\n            // @ts-ignore\n            return __BRYTHON__.$getattr_pep657(this.#bry, \"host\", [0,0,0])\n        }*/\n\n        static observedAttributes = (Klass as any)[\"observedAttributes\"];\n\n        attributeChangedCallback(...args: any[]) {\n            return this.#call(\"attributeChangedCallback\", ...args);\n        }\n/*\n        connectedCallback(...args: any[]) {\n            return this.#call(\"connectedCallback\", args);\n        }\n        disconnectedCallback(...args: any[]) {\n            return this.#call(\"disconnectedCallback\", args);\n        }*/\n    }\n}","\nexport default class SignalEvent {\n\n    #callbacks = new Array<(pthis: SignalEvent) => void>();\n\n    listen(callback: (pthis: SignalEvent) => void) {\n        this.#callbacks.push(callback);\n\n        return this;\n    }\n    unlisten(callback: (pthis: SignalEvent) => void) {\n\n        // do not guarantee order ?\n        const idx = this.#callbacks.lastIndexOf(callback);\n        if( idx === -1 )\n            return this;\n\n        if( idx !== this.#callbacks.length - 1 )\n            this.#callbacks[idx] = this.#callbacks[this.#callbacks.length-1];\n\n        --this.#callbacks.length;\n\n        return this;\n    }\n\n    protected trigger() {\n\n        for(let i = 0; i < this.#callbacks.length; ++i)\n            this.#callbacks[i](this);\n\n        return this;\n    }\n}","import SignalEvent from \"./SignalEvent\";\n\nexport default abstract class ROSignal<T> extends SignalEvent {\n\n    protected _valueRead = false;\n\n    override listen(callback: (pthis: SignalEvent) => void) {\n        \n        super.listen(callback);\n\n        callback(this); // initial callback (when signal Data)\n\n        return this;\n    }\n\n    abstract readonly value: T|null;\n\n    protected override trigger(): this {\n        \n        // no needs to trigger if previous value wasn't read.\n        if( ! this._valueRead )\n            return this;\n\n        this._valueRead = false;\n        super.trigger();\n\n        return this;\n    }\n\n    ack() {\n        this._valueRead = true;\n    }\n}","import ROSignal from \"./ROSignal\";\n\nexport default class IndirectSignal<T = unknown, U = T> extends ROSignal<U> {\n\n    #source: ROSignal<T>|null = null;\n\n    constructor(source: ROSignal<T>|null = null) {\n        super();\n\n        this.#source = source;\n        this.#source?.listen( this._callback );\n    }\n\n    protected _callback = () => this.trigger();\n\n    get source(): ROSignal<T>|null {\n        return this.#source;\n    }\n\n    set source(source: ROSignal<T>|null) {\n\n        if( this.#source === source ) // nop\n            return;\n\n        if( this.#source !== null)\n            this.#source.unlisten(this._callback);\n\n        this.#source = source;\n\n        if( this.#source !== null)\n           this.#source.listen(this._callback);\n        else\n            this._callback();\n    }\n\n    override get value(): U|null {\n\n        this.ack();\n\n        if( this.#source === null)\n            return null;\n        return this.#source.value as U|null;\n    }\n}","import IndirectSignal from \"./IndirectSignal\";\nimport ROSignal from \"./ROSignal\";\n\nexport default class Signal<T> extends IndirectSignal<T> {\n\n    protected _value: T|null = null;\n\n    constructor(value: T|null = null, source: ROSignal<T>|null = null) {\n        super(source);\n        this._value = value;\n    }\n\n    override set source(source: ROSignal<T>|null) {\n\n        if( source !== null )\n            this._value = null;\n\n        super.source = source; // may trigger if source change\n    }\n\n    override get source() {\n        return super.source;\n    }\n\n    override get value() {\n\n        if( this.source !== null)\n            return super.value;\n\n        this.ack();\n        return this._value;\n    }\n\n    override set value(value: T|null) {\n\n        const oldValue = this._value;\n        this._value = value;\n\n        if( this.source !== null ) {\n            this.source = null; // will trigger\n            return;\n        }\n\n        // trigger only if value changed\n        if( value !== oldValue)\n            this.trigger();\n\n        return;\n    }\n}","import ContentGenerator from \"@LISS/src/ContentGenerators/ContentGenerator\";\n\nexport default class LISSBase extends HTMLElement {\n\n    static readonly SHADOW_MODE      : \"open\"|\"closed\"|null = null;\n    // TODO: static cache getter + use static HTML/CSS.\n    static readonly CONTENT_GENERATOR: ContentGenerator|null = null;\n\n    readonly content  : ShadowRoot|HTMLElement        = this;\n    readonly host     : HTMLElement                   = this;\n    readonly controler: Omit<this, keyof HTMLElement> = this;\n\n    constructor() {\n        super();\n\n        const klass = this.constructor as typeof LISSBase;\n\n        if( klass.CONTENT_GENERATOR !== null )\n            this.content = klass.CONTENT_GENERATOR.initContent(this, klass.SHADOW_MODE);\n    }\n\n\n    // define for auto-complete.\n    static observedAttributes: string[] = [];\n    attributeChangedCallback(name: string, oldval: string|null, newval: string|null){}\n}","import LISSBase from \"./LISSBase\";\n\nexport default class LISSUpdate extends LISSBase {\n\n    constructor() {\n        super();\n\n        observer.observe(this);\n\n        this.requestUpdate();\n    }\n\n    #requestID: null|number = null;\n    #updateRequested = false;\n    #isVisible       = false;\n\n    static processIntersectionObserver(entries: IntersectionObserverEntry[]) {\n\n        for(let i = 0; i < entries.length; ++i) {\n\n            const target     = entries[i].target as LISSUpdate;\n            const isVisible  = entries[i].isIntersecting;\n\n            target.#isVisible = isVisible;\n\n            if( ! isVisible && target.#requestID !== null)\n                cancelAnimationFrame(target.#requestID);\n\n            if( isVisible && target.#updateRequested && target.#requestID === null )\n                target.#scheduleUpdate();\n        }\n    }\n\n    #scheduleUpdate() {\n        this.#requestID = requestAnimationFrame( () => {\n            this.#requestID       = null;\n            this.#updateRequested = false;\n\n            if( this.#initCalled === false ) {\n                this.#initCalled = true;\n                this.onInit();\n            }\n            this.onUpdate();\n        });\n    }\n\n    requestUpdate() {\n\n        if( this.#updateRequested )\n            return;\n\n        this.#updateRequested = true;\n\n        if( ! this.#isVisible )\n            return;\n\n        this.#scheduleUpdate();\n    }\n\n    #initCalled = false;\n    protected onInit() {\n\n    }\n\n    protected onUpdate() {\n\n    }\n}\n\nconst observer = new IntersectionObserver( LISSUpdate.processIntersectionObserver );","import Signal     from \"@LISS/src/signals/Signal\";\nimport ROSignal   from \"@LISS/src/signals/ROSignal\";\nimport LISSUpdate from \"./LISSUpdate\";\nimport getPropertyInitialValue from \"@LISS/src/utils/DOM/getPropertyInitialValue\";\n\nexport function getSignal<T extends any = unknown>(obj: HTMLElement, defaultVal: T|null = null) {\n    let signal: Signal<T> = (obj as any).signal;\n\n    if( signal === undefined )\n        signal = (obj as any).signal = new Signal<T>(defaultVal);\n\n    return signal;\n}\n\nexport default class LISSSignal<T> extends LISSUpdate {\n\n    readonly signal: Signal<T>;\n\n    #callback = () => this.requestUpdate();\n\n    constructor(value_or_signal: null|T|ROSignal<T> = null) {\n        super();\n\n        this.signal = getPropertyInitialValue(this, \"signal\") ?? new Signal<T>();\n\n        if( value_or_signal !== null ) { // value given by the constructor\n\n            if( value_or_signal instanceof ROSignal)\n                this.signal.source = value_or_signal;\n            else\n                this.signal.value  = value_or_signal;\n\n        }\n        \n        this.signal.listen( this.#callback );\n    }\n}","export default function getPropertyInitialValue<E extends HTMLElement,\n                                                N extends keyof E,\n                                                D = undefined>\n                                (e: E, name: N, defaultValue?: D): D|E[N] {\n\n    if( ! Object.hasOwn(e, name) )\n        return defaultValue as D;\n\n    const  _ = e[name];\n    delete     e[name];\n    return _;\n}","import ContentGenerator from \"@LISS/src/ContentGenerators/ContentGenerator\";\nimport LISSFull         from \"@LISS/src/LISSClasses/LISSFull\";\nimport LISSBase from \"./LISSClasses/LISSBase\";\n\ntype Cstr<T> = new(...args:any[]) => T\ntype LISSv3_Opts<T extends Cstr<ContentGenerator> > = {\n    content_generator: T,\n    shadow           : \"null\"|\"open\"|\"closed\"\n} & ConstructorParameters<T>[0];\n\n//  builder\nfunction LISS<\n        T extends Cstr<ContentGenerator> = Cstr<ContentGenerator>,\n        U extends typeof LISSBase        = typeof LISSFull\n    >\n    (opts: Partial<LISSv3_Opts<T>> = {}, base?: U): U {\n    \n    base ??= LISSFull as unknown as U;\n\n    const content_generator = opts.content_generator ?? ContentGenerator;\n    // @ts-ignore\n    const generator: ContentGenerator = new content_generator(opts);\n    \n    let shadow = opts.shadow;\n    if( shadow === undefined)\n        shadow = \"open\"\n\n    // @ts-ignore\n    return class LISSBase extends base {\n\n        // TODO: no content if... ???\n        // override attachShadow  ???\n        static override readonly SHADOW_MODE       = shadow;\n        static override readonly CONTENT_GENERATOR = generator;\n\n    }\n}\n\n// used for plugins.\nexport class ILISS {}\nexport default LISS as typeof LISS & ILISS;","import isTemplateString from \"./isTemplateString\";\nimport { Template } from \"./types\";\n\nexport type HTML  = DocumentFragment|HTMLElement|string;\n\nexport default function template( ...raw:Template<HTML>): DocumentFragment {\n\n    let elem: HTML = raw[0] as any;\n\n    if( isTemplateString(raw) ) {\n        \n        const str = raw[0];\n\n        let string = str[0];\n        for(let i = 1; i < raw.length; ++i) {\n            string += raw[i];\n            string += str[i];\n        }\n\n        elem = string;\n    }\n\n    if( elem instanceof DocumentFragment )\n        return elem.cloneNode(true) as DocumentFragment;\n\n    // must use template as DocumentFragment doesn't have .innerHTML\n    let template = document.createElement('template');\n\n    if(typeof elem === 'string')\n        template.innerHTML = elem.trim();\n    else {\n        if( elem instanceof HTMLElement)\n            // prevents issue if elem is latter updated.\n            elem = elem.cloneNode(true) as HTMLElement;\n        \n        template.append( elem );\n    }\n\n    //if( template.content.childNodes.length === 1 && template.content.firstChild!.nodeType !== Node.TEXT_NODE)\n    //  return template.content.firstChild! as unknown as T;\n    \n    return template.content!;\n}","const converter = document.createElement('span');\n\nexport default function encodeHTML(text: string) {\n\tconverter.textContent = text;\n\treturn converter.innerHTML;\n}","import { HTML } from \"@LISS/src/utils/parsers/template\";\nimport ContentGenerator from \"./ContentGenerator\";\nimport encodeHTML from \"@LISS/src/utils/encode\";\n\nconst regex = /\\$\\{(.+?)\\}/g;\n\nexport default class AutoContentGenerator extends ContentGenerator {\n\n    protected override prepareTemplate(html: HTML) {\n        \n        this.data = null;\n\n        if( typeof html === 'string' ) {\n            this.data = html;\n            return;\n            /*\n            html = html.replaceAll(/\\$\\{([\\w]+)\\}/g, (_, name: string) => {\n                return `<liss value=\"${name}\"></liss>`;\n            });*/\n\n            //TODO: ${} in attr\n                // - detect start ${ + end }\n                // - register elem + attr name\n                // - replace. \n        }\n        \n        super.prepareTemplate(html);\n    }\n\n    override fillContent(shadow: ShadowRoot) {\n        \n        // https://stackoverflow.com/questions/29182244/convert-a-string-to-a-template-string\n        if( this.data !== null) {\n            const str = (this.data as string).replace(regex, (_, match) => {\n                const value = shadow.host.getAttribute(match);\n                if( value === null)\n                    return ''; \n                return encodeHTML(value);\n            });\n\n            super.prepareTemplate(str);\n        }\n\n        super.fillContent(shadow);\n\n        /*\n        // html magic values could be optimized...\n        const values = content.querySelectorAll('liss[value]');\n        for(let value of values)\n            value.textContent = host.getAttribute(value.getAttribute('value')!)\n        */\n    }\n}","const main = document.querySelector(\"main\")!;\n\n// fit page height\nfunction updateRatio() {\n    const vh = document.documentElement.clientHeight; // without scrollbar\n    const mh = main.clientHeight; // height: 148mm\n\n    const vw = document.documentElement.clientWidth; // without scrollbar\n\n    const scale = Math.min( vh/mh, vw/(16*mh/9) );\n\n    main.style.setProperty(\"--scale\", `${scale}`);\n}\n\nwindow.addEventListener('resize', updateRatio);\nupdateRatio();\n\n// change slide\nlet current = 0;\n\nfunction getCode(ev: KeyboardEvent) {\n\n    let code = ev.code;\n    if( code === \"ArrowLeft\")\n        code = \"PageUp\";\n    if( code === \"ArrowRight\")\n        code = \"PageDown\";\n\n    return code;\n}\nfunction isDownUp(code: string) {\n    return [\"PageUp\", \"PageDown\"].includes(code);\n}\n\ndocument.addEventListener(\"keydown\", (ev) => {\n\n    if( isDownUp( getCode(ev) ) )\n        ev.preventDefault();\n\n});\n\ndocument.addEventListener(\"keypress\", (ev) => {\n\n    if( isDownUp( getCode(ev) ) )\n        ev.preventDefault();\n\n});\n\ndocument.addEventListener(\"keyup\", (ev) => {\n\n    const code = getCode(ev);\n    if( ! isDownUp(code) )\n        return;\n\n    ev.preventDefault();\n\n    let sections = [...document.querySelectorAll<HTMLElement>(':is(section, .ws-frame)')];\n\n    const pos = document.querySelector(\"main\")!.scrollTop;\n\n    /*\n    if( ev.code=== \"ArrowLeft\" && current !== 0)\n        --current;\n    if( ev.code=== \"ArrowRight\" && current !== sections.length - 1 )\n        ++current;\n    */\n    if( code=== \"PageUp\" ) {\n\n        let cur = sections.length - 1;\n        while( cur != 0 && pos <= sections[cur].offsetTop)\n            --cur;\n\n        current = cur;\n    }\n    if( code=== \"PageDown\" ) {\n\n        let cur = 0;\n        while( cur != sections.length - 1 && pos >= sections[cur].offsetTop)\n            ++cur;\n\n        current = cur;\n    }\n\n    main.scrollTo({\n        top     : sections[current].offsetTop,\n        behavior: \"instant\",\n    });\n});\n\nimport LISS from \"@LISS/src\";\n\nconst css = `\n    :host {\n        --uca_green: #95c11f;\n        --uca_gray : #5e5c5c;\n\n        display: flex;\n        flex-direction: column;\n        justify-content: space-evenly;\n        height: 100%;\n        width : 100%;\n        background-size: cover;\n    }\n`;\n\nclass FrameUCAPlain extends LISS({\n    css\n})<void> {\n    constructor() {\n        super();\n        this.host.classList.add('ws-frame');\n    }\n}\n\nLISS.define(\"frame-uca-plain\", FrameUCAPlain);\n\nconst frametitle_css = `\n    :host > .title > h1 {\n        color: var(--uca_green);\n        text-align: center;\n    }\n    :host > .title > h2 {\n        color: var(--uca_green);\n        text-align: center;\n        font-style: italic;\n        margin-top: 0;\n    }\n    :host > div {\n        text-align: center;\n        color: var(--uca_gray);\n\n        & > .mail {\n            font-style: italic;\n        }\n    }\n`;\nconst html = \n`<div class=\"title\">\n<h1></h1>\n<h2></h2>\n</div>\n<div>\n    <span class=\"author\"></span><br/>\n    <span class=\"mail\"></span>\n</div>\n<div>\n    <span class=\"date\"></span>\n</div>\n`;\n\nclass FrameUCATitle extends LISS({\n    css: [css, frametitle_css],\n    html,\n    attributes: [\"caption\", \"subcaption\", \"author\", \"mail\"]\n})<void> {\n    constructor() {\n        super();\n        this.host.classList.add('ws-frame');\n\n        this.content.querySelector('h1')!.textContent = this.host.getAttribute(\"caption\");\n        this.content.querySelector('h2')!.textContent = this.host.getAttribute(\"subcaption\");\n        this.content.querySelector('.author')!.textContent = this.host.getAttribute(\"author\");\n        this.content.querySelector('.mail')!.textContent = this.host.getAttribute(\"mail\");\n        this.content.querySelector('.date')!.textContent = new Date(document.lastModified).toLocaleDateString('fr-FR', { year:\"numeric\", month:\"short\", day:\"numeric\"});\n    }\n\n}\n\nLISS.define(\"frame-uca-title\", FrameUCATitle);\n\nconst frame_content =\n`<div class=\"header\">\n    <h2 class=\"title\"></h2>\n    <h3><span class=\"subtitle\"></span> <span class=\"subsubtitle\"></span></h3>\n</div><slot></slot><div></div>`;\n\nconst frame_css = `\n    :host {\n        justify-content: space-between;\n\n        padding-left: 10px;\n        padding-right: 10px;\n    }\n    :host > .header {\n        /*position: absolute;\n        top: 0;\n        left: 10px;*/\n    }\n\n    :host > .header > h2 {\n        margin-top: 8px;\n        font-weight: normal;\n        color: var(--uca_green);\n        margin-bottom: 0px;\n        font-size: 1em;\n    }\n    :host > .header > h3 {\n        margin-top: 2px;\n        margin-bottom: 0px; /* because flex spacing */\n        font-weight: normal;\n        font-style: italic;\n        font-size: 0.75em;\n        color: var(--uca_gray);\n    }\n`;\n\nclass FrameUCA extends LISS({\n    css : [css, frame_css],\n    html: frame_content,\n    attributes: [\"section\", \"subsection\", \"subsubsection\", \"repeat\", \"slide\"]\n})<void> {\n    constructor() {\n        super();\n        this.host.classList.add('ws-frame');\n\n        this.content.querySelector('.title')!.textContent    = this.host.getAttribute(\"section\");\n        this.content.querySelector('.subtitle')!.textContent = this.host.getAttribute(\"subsection\");\n\n        const subsubsection = this.host.getAttribute(\"subsubsection\");\n        if( subsubsection !== null) {\n            this.content.querySelector('.subsubtitle')!.textContent = '(' + subsubsection + ')';\n        }\n\n\n        const onslides = this.host.querySelectorAll<HTMLElement>(\"[onslide]\");\n\n        const slide = this.host.getAttribute(\"slide\");\n        if( slide === null)\n            this.host.setAttribute(\"slide\", \"0\");\n\n        // dirty h4ck\n        for(let script of (this.host as any).scripts ?? [])\n            script(this.host);\n\n        if( slide === \"0\") {\n\n            let max = 0;\n            for(let onslide of onslides) {\n                const m = +onslide.getAttribute('onslide')!;\n                if( m > max)\n                    max = m;\n            }\n\n            if( max === 0)\n                return;\n\n            const dupl = Array.from({length: max}, (_, idx) => {\n                const elem = this.host.cloneNode(true) as HTMLElement;\n                elem.toggleAttribute(\"repeat\", false);\n                elem.setAttribute('slide', `${idx+1}`);\n\n                // dirty h4ck\n                (elem as any).scripts = (this.host as any).scripts;\n\n                return elem;\n            });\n            this.host.after( ...dupl );\n        }\n\n        const slide_id = +( slide ?? \"0\" );\n        for(let onslide of onslides) {\n            const cond = onslide.getAttribute('onslide')!;\n\n            const show = cond.split(\",\").map( p => p.split(\"-\")).some( (part) => {\n\n                if( part.length === 1)\n                    return slide_id === +part[0];\n\n                if( slide_id < +part[0] )\n                    return false;\n                \n                if( part[1] === \"\")\n                    return true;\n                \n                if( slide_id > +part[1] )\n                    return false;\n\n                return true;\n            });\n\n            if( ! show ) {\n                onslide.style.setProperty(\"visibility\", \"hidden\");\n                //  onslide.style.setProperty(\"display\", \"none\");\n            }\n\n            // ad hoc\n            if( show && onslide.parentElement?.tagName === \"SQL-INTERACTIVE\") {\n                const parent = onslide.parentElement!;\n                const idx    = [...parent.children].indexOf(onslide);\n                parent.setAttribute(\"option\", `${idx}`);\n            }\n\n            // ad hoc\n            if( show && onslide.matches(\"sql-option\") ) {\n                const system = onslide.closest(\"sql-system\")!;\n                const id = [...system.querySelectorAll(\"sql-option\")].indexOf(onslide);\n                system.setAttribute(\"active\", `${id}` );\n            }\n        }\n\n    }\n\n    override attributeChangedCallback(name: string, _oldValue: string, value: string): void | false {\n        if( name === \"section\")\n            this.content.querySelector('.title')!.textContent = this.host.getAttribute(\"section\");\n        if( name === \"subsection\")\n            this.content.querySelector('.subtitle')!.textContent = this.host.getAttribute(\"subsection\");\n        if( name === \"subsubsection\")\n            this.content.querySelector('.subsubtitle')!.textContent = '(' + this.host.getAttribute(\"subsubsection\") + ')';\n    }\n\n}\n\nLISS.define(\"frame-uca\", FrameUCA);\n\n{\n    const css = `\n:host {\n    display: none;\n}`;\n\n    class FrameSection extends LISS({\n        css: [css],\n        shadow: null\n    })<void> {\n\n        constructor() {\n            super();\n            const text = this.host.textContent!.trim();\n            let next = this.host.nextElementSibling;\n\n            while( next !== null && next.tagName !== \"FRAME-SECTION\") {\n                next.setAttribute('section', text);\n                next = next.nextElementSibling;\n            }\n        }\n\n    }\n\n    LISS.define(\"frame-section\", FrameSection);\n}\n\n{\n    const css = `\n:host {\n    display: none;\n}`;\n\n    class FrameSubSection extends LISS({\n        css: [css],\n        shadow: null\n    })<void> {\n\n        constructor() {\n            super();\n            const text = this.host.textContent!.trim();\n            let next = this.host.nextElementSibling;\n\n            while( next !== null && next.tagName !== \"FRAME-SUBSECTION\" && next.tagName !== \"FRAME-SECTION\") {\n                next.setAttribute('subsection', text);\n                next = next.nextElementSibling;\n            }\n        }\n\n    }\n\n    LISS.define(\"frame-subsection\", FrameSubSection);\n}\n\n{\n    const css = `\n:host {\n    display: none;\n}`;\n\n    class FrameSubSubSection extends LISS({\n        css: [css],\n        shadow: null\n    })<void> {\n\n        constructor() {\n            super();\n            const text = this.host.textContent!.trim();\n            let next = this.host.nextElementSibling;\n\n            while( next !== null  && next.tagName !== \"FRAME-SUBSUBSECTION\" && next.tagName !== \"FRAME-SUBSECTION\"  && next.tagName !== \"FRAME-SECTION\") {\n                next.setAttribute('subsubsection', text);\n                next = next.nextElementSibling;\n            }\n        }\n\n    }\n\n    LISS.define(\"frame-subsubsection\", FrameSubSubSection);\n}","export type Ressource<T> =\n      T\n    | Promise<T>\n    | (T extends string         ? Promise<Response> | Response : never)\n    | (T extends Array<infer E> ? Ressource<E>[]               : never);\n\nexport function isRessourceReady<T>(res: Ressource<T>|undefined): res is T|undefined {\n\n    if( Array.isArray(res) )\n        return res.every( e => isRessourceReady(e) );\n\n    return res === undefined || !(res instanceof Promise || res instanceof Response);\n}\n\nexport async function waitRessource<T>(res: Ressource<T>): Promise<T> {\n\n    if( Array.isArray(res) )\n        return await Promise.all(res.map( e => waitRessource(e))) as T;\n\n    if( res instanceof Promise)\n        res = await res;\n\n    if( res instanceof Response)\n        res = await res.text() as T;\n\n    return res as T;\n}","export default function isDOMContentLoaded() {\n    return document.readyState === \"interactive\" || document.readyState === \"complete\";\n}","import isDOMContentLoaded from \"./isDOMContentLoaded\";\n\nexport default async function whenDOMContentLoaded() {\n    if( isDOMContentLoaded() )\n        return;\n\n    const {promise, resolve} = Promise.withResolvers<void>()\n\n\tdocument.addEventListener('DOMContentLoaded', () => {\n\t\tresolve();\n\t}, true);\n\n    await promise;\n}","import { isRessourceReady, Ressource, waitRessource } from \"@LISS/src/utils/network/ressource\";\nimport template, { HTML }   from \"@LISS/src/utils/parsers/template\";\nimport style   , {CSS}      from \"@LISS/src/utils/parsers/style\";\nimport isDOMContentLoaded   from \"@LISS/src/utils/DOM/isDOMContentLoaded\";\nimport whenDOMContentLoaded from \"@LISS/src/utils/DOM/whenDOMContentLoaded\";\n\ntype STYLE = CSS | CSS[];\n\nexport type ContentGenerator_Opts = {\n    html   ?: Ressource<HTML>,\n    css    ?: Ressource<STYLE>\n}\n\nconst sharedCSS = new CSSStyleSheet();\n//const sharedCSS = getSharedCSS(); // from LISSHost...\n\nexport default class ContentGenerator {\n\n    protected data: any;\n\n    constructor({\n        html,\n        css    = [],\n    }: ContentGenerator_Opts = {}) {\n\n        const isReady = isRessourceReady<HTML> (html)\n                     && isRessourceReady<STYLE>(css)\n                     && isDOMContentLoaded();\n\n        if( isReady )\n            this.prepare(html, css);\n\n        const whenReady: Promise<[HTML|undefined, STYLE|undefined, unknown]> = Promise.all([\n            waitRessource<HTML |undefined>(html),\n            waitRessource<STYLE|undefined>(css),\n            whenDOMContentLoaded()\n        ]);\n\n        whenReady.then( (args) => this.prepare(args[0], args[1]) );\n\n        this.isReady   = isReady;\n        this.whenReady = whenReady;\n    }\n\n    /** ready ***/\n\n    readonly whenReady: Promise<unknown>;\n    readonly isReady  : boolean = false;\n\n    /** process ressources **/\n\n    protected stylesheets: CSSStyleSheet[]       = [];\n    protected template   : DocumentFragment|null = null;\n\n    protected prepare(html: HTML|undefined, css: STYLE|undefined) {\n        if( html !== undefined )\n            this.prepareTemplate(html);\n        if( css  !== undefined )\n            this.prepareStyle   (css);\n    }\n\n    protected prepareTemplate(html: HTML) {\n        this.template = template(html);\n    }\n    protected prepareStyle(css: STYLE) {\n\n        if( ! Array.isArray(css) )\n            css = [css];\n\n        this.stylesheets = css.map(e => style(e) );\n    }\n\n    /*** Generate contents ***/\n\n    initContent(target: HTMLElement, mode:\"open\"|\"closed\"|null) {\n\n        let content: ShadowRoot|HTMLElement = target;\n        if( mode !== null) {\n            content = target.attachShadow({mode});\n            content.adoptedStyleSheets.push(sharedCSS, ...this.stylesheets);\n        }\n        //TODO: CSS for no shadow ???\n        \n        this.fillContent(content);\n\n        return content;\n    }\n\n    fillContent(target: ShadowRoot|HTMLElement|DocumentFragment) {\n        \n        if( this.template !== null)\n            target.replaceChildren( this.createContent() );\n\n        //TODO...\n        customElements.upgrade(target);\n    }\n\n    createContent() {\n        return this.template!.cloneNode(true);\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"\";","export default __webpack_require__;","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\n__webpack_require__(825);\nvar __webpack_exports__ = __webpack_require__(570);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","installedChunks","template","document","createElement","df","content","LISS","style","html","raw","elem","isTemplateString","str","string","i","length","innerHTML","childNodes","Error","firstChild","VERSION","globalThis","async","whenDOMContentLoaded","isPageLoaded","promise","resolve","Promise","withResolvers","addEventListener","CSSStyleSheet","HTMLStyleElement","sheet","Array","isArray","console","warn","trace","replaceSync","assertElement","tagname","opts","shadow_html","css","whenDefined","querySelector","tagName","toLowerCase","constructor","name","shadowRoot","selector","expected","sub_elems","querySelectorAll","sub_elem","getComputedStyle","propname","getPropertyValue","require","url","stack","caller","startsWith","split","slice","lastIndexOf","indexOf","LISSContext","execute","url_map","fetchText","_whenDefinedPromises","WeakMap","customElements","getName","p","get","undefined","set","define","isDefined","script","LISS_MODE","getAttribute","LISS_FILES","files","DEFAULT_CDIR","SW_PATH","autoload","cdir","SW","info","navigator","serviceWorker","register","scope","e","error","controller","MutationObserver","mutations","mutation","addition","addedNodes","addTag","observe","childList","subtree","tag","WaitingDefine","has","loadComponent","tryFile","compo_dir","ext","target","promises","result","all","add","override_tags","found","file","defineWebComponent","origin","klass","default","content_generator","AutoContentGenerator","whenPageLoaded","readyState","uri","hide404","fetchContext","fetch","path","URL","cwd","value","toString","options","headers","response","status","answer","text","executeJS","code","Blob","type","createObjectURL","id","import","revokeObjectURL","getProp","wrapper_loaded","EXEC","js","bry","jscode","Set","Klass","JSKlass","__bases__","filter","__name__","_js_klass","$js_func","symbol","__BRYTHON__","PYOBJ","super","brython_wrapper_js","this","$call","args","$getattr_pep657","static","attributeChangedCallback","WrapPythonClass","generator","CONTENT_GENERATOR","isReady","whenReady","delete","SignalEvent","listen","callback","push","unlisten","idx","trigger","ROSignal","_valueRead","ack","IndirectSignal","source","_callback","Signal","_value","oldValue","LISSBase","HTMLElement","host","controler","initContent","SHADOW_MODE","oldval","newval","LISSUpdate","observer","requestUpdate","processIntersectionObserver","entries","isVisible","isIntersecting","cancelAnimationFrame","requestAnimationFrame","onInit","onUpdate","IntersectionObserver","LISSSignal","signal","value_or_signal","Object","hasOwn","_","getPropertyInitialValue","base","LISSFull","ContentGenerator","shadow","DocumentFragment","cloneNode","trim","append","converter","regex","prepareTemplate","data","fillContent","replace","match","textContent","main","updateRatio","vh","documentElement","clientHeight","mh","vw","clientWidth","scale","Math","min","setProperty","window","current","getCode","ev","isDownUp","includes","preventDefault","sections","pos","scrollTop","cur","offsetTop","scrollTo","top","behavior","FrameUCAPlain","classList","frametitle_css","FrameUCATitle","attributes","Date","lastModified","toLocaleDateString","year","month","day","frame_content","frame_css","FrameUCA","subsubsection","onslides","slide","setAttribute","scripts","max","onslide","m","dupl","from","toggleAttribute","after","slide_id","show","map","some","part","parentElement","parent","children","matches","system","closest","_oldValue","FrameSection","next","nextElementSibling","FrameSubSection","FrameSubSubSection","isRessourceReady","res","every","Response","waitRessource","isDOMContentLoaded","sharedCSS","prepare","then","prepareStyle","stylesheets","mode","attachShadow","adoptedStyleSheets","replaceChildren","createContent","upgrade","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","Symbol","queue","d","forEach","fn","r","a","body","hasAwait","currentDeps","outerResolve","reject","depQueues","rej","x","deps","dep","obj","ret","wrapDeps","getResult","fnQueue","q","err","definition","key","o","defineProperty","enumerable","prop","prototype","hasOwnProperty","call","C","chunkId","__webpack_ids__","__webpack_runtime__"],"sourceRoot":""}